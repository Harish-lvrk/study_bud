{% extends 'main.html' %}

{% block content %}

<div class="auth-wrapper">
    <div class="auth-card">

        {% if page == 'login' %}
            <h2 class="auth-card__title">Welcome Back üöÄ</h2>
            <p class="auth-card__subtitle">Sign in to your StudyBud account</p>

            <form action="{% url 'login' %}" method="POST">
                {% csrf_token %}
                <div class="form-group">
                    <label for="username">Username</label>
                    <input type="text" name="username" id="username" placeholder="Enter your username" required>
                </div>
                <div class="form-group">
                    <label for="password">Password</label>
                    <input type="password" name="password" id="password" placeholder="Enter your password" required>
                </div>
                <input type="submit" value="Sign In" class="auth-card__submit">
            </form>

            <p class="auth-card__footer">
                Don't have an account? <a href="{% url 'register' %}">Create one</a>
            </p>

        {% else %}
            <h2 class="auth-card__title">Join StudyBud üõ∏</h2>
            <p class="auth-card__subtitle">Create your account & start collaborating</p>

            {% if form.errors %}
            <div class="auth-card__errors">
                {% for field in form %}
                    {% for error in field.errors %}
                    <p class="auth-card__error">‚ö†Ô∏è {{ error }}</p>
                    {% endfor %}
                {% endfor %}
                {% for error in form.non_field_errors %}
                <p class="auth-card__error">‚ö†Ô∏è {{ error }}</p>
                {% endfor %}
            </div>
            {% endif %}

            <form action="{% url 'register' %}" method="POST">
                {% csrf_token %}
                {{ form.as_p }}
                <input type="submit" value="Register" class="auth-card__submit">
            </form>

            <p class="auth-card__footer">
                Already have an account? <a href="{% url 'login' %}">Sign in</a>
            </p>
        {% endif %}

    </div>
</div>

{% endblock %}